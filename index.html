<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare Money Flow Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Load D3.js first -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <!-- Load D3-Sankey plugin -->
    <script src="https://cdn.jsdelivr.net/npm/d3-sankey@0.12.3/dist/d3-sankey.min.js"></script>
    <!-- Load Papa Parse -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Healthcare Money Flow in America</h1>
            <p class="subtitle">Interactive visualization of healthcare spending patterns</p>
        </header>
        <main>
            <div class="about">
                <p>This Sankey diagram shows how money flows through the American healthcare system. The width of each flow represents the amount of money moving between different sectors. Hover over the flows to see detailed information.</p>
            </div>
            <div id="sankey-container"></div>
            <div class="charts-container">
                <div id="source-barchart" class="barchart"></div>
                <div id="sink-barchart" class="barchart"></div>
            </div>
        </main>
    </div>
    <!-- Load visualization code first -->
    <script src="barcharts.js"></script>
    <script src="sankey.js"></script>
    <!-- Then load and process data -->
    <script src="data.js"></script>
    <!-- Add error handling -->
    <script>
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            console.error('Error: ' + msg + '\nURL: ' + url + '\nLine: ' + lineNo + '\nColumn: ' + columnNo + '\nError object: ' + JSON.stringify(error));
            return false;
        };
    </script>
</body>
</html> 